{% load widget_tweaks %}

{%load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <style>
        section{
            padding: 60px 0;
        }
    </style>
    <title>Active Directory Portal | Register</title>
</head>
<body class="d-flex h-100 text-center text-white bg-dark">

    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column" style="min-width: 100vh; min-height: 100vh;">
        <header class="mb-auto">
          <div>
            <h3 class="float-md-start mb-0">3INSYS</h3>
            <a href="{% url 'users_login' %}" type="button" class="btn btn-outline-light float-md-end mb-0">Login</a>
          </div>
        </header>
      
        <main class="px-3">
          <span style="font-size: 4rem; color: cornflowerblue;" >
            <i class="bi bi-people-fill"></i>
          </span>
          <h1>ACTIVE DIRECTORY TOOL</h1>
          <p class="lead">PLEASE REGISTER TO LOGIN</p>
          <div class="justify-content-center w-25 mx-auto">
            <div class="card">
                <div class="card-header mb-3">
                    <h5 class="card-title">REGISTER</h5>
                </div>
                <div class="card-body">
                  {% if errors %}
                  <div class="alert alert-danger" role="alert">
                    <small>
                    <ul>
                      {% for error in errors %}
                      <li class="text-start">
                        {{error}}
                      </li>
                      {% endfor %}
                    </ul>
                  </small>
                </div>
                {% endif %}
                  
                  <form method="post" oninput='password2.setCustomValidity(password2.value != password1.value ? "Passwords do not match." : "")'>
                    
                    {% csrf_token %}
                    
                    <div class="input-group mb-3">
                      <span class="input-group-text" id="basic-addon1">First Name</span>
                      {% render_field registerform.first_name name="first_name" aria-label="FirstName" aria-describedby="basic-addon1" class+="form-control" %}
        
                      <!-- Tooltip -->
                      
                      <span class="input-group-text" id="basic-addon1">
                        <span class="tt lead" data-bs-placement="bottom" title="Enter First Name: e.g John">
                          <i class="bi bi-question-circle text-muted"></i>
                          </span>
                      </span>
                      </div>
                    
                    <div class="input-group mb-3">
                      <span class="input-group-text" id="basic-addon1">Last Name</span>
                      {% render_field registerform.last_name name="last_name" aria-label="LastName" aria-describedby="basic-addon1" class+="form-control" %}

                      <!-- Tooltip -->

                      <span class="input-group-text" id="basic-addon1">
                        <span class="tt lead" data-bs-placement="bottom" title="Enter Last Name: e.g Doel">
                          <i class="bi bi-question-circle text-muted"></i>
                          </span>
                      </span>
                    </div>
                    
                      <div class="input-group mb-3">
                        <span class="input-group-text" id="basic-addon1"><i class="bi bi-person-fill"></i></span>
                        {% render_field registerform.username placeholder="Username" name="username" aria-label="Username" aria-describedby="basic-addon1" class+="form-control" %}
                    
                        <!-- Tooltip -->
                        <span class="input-group-text" id="basic-addon1">
                          <span class="tt lead" data-bs-placement="bottom" title="Enter Username: e.g john.doel">
                            <i class="bi bi-question-circle text-muted"></i>
                            </span>
                        </span>
                      </div>
                    
                    <div class="input-group mb-3">
                      <span class="input-group-text" id="basic-addon1"><i class="bi bi-envelope-fill"></i></span>
                      {% render_field registerform.email placeholder="joh.doe@3insys.com" name="email" aria-label="Email" aria-describedby="basic-addon1" class+="form-control" %}
                  
                      <!-- Tooltip -->
                      <span class="input-group-text" id="basic-addon1">
                        <span class="tt lead" data-bs-placement="bottom" title="Your Email: e.g john.doel@3insys.com">
                          <i class="bi bi-question-circle text-muted"></i>
                          </span>
                      </span>
                    </div>

                    <!-- Test Password -->

                    <div class="input-group mb-3">
                      
                      <span class="input-group-text" id="basic-addon2"><i class="bi bi-lock-fill"></i></span>
                      {% render_field registerform.password1 type="password" placeholder="Password" name="password1" aria-label="password1" aria-describedby="basic-addon2" id="password-input" class+="form-control" %}
                      <!-- Tooltip -->
                      
                      <span class="input-group-text" id="basic-addon1">
                        <span class="tt lead" data-bs-placement="bottom" data-bs-html="true" data-bs-title="<ul><li>Your Password</li></ul>">
                          <i class="bi bi-question-circle text-muted"></i>
                          </span>
                      </span>
                      <div class="valid-feedback">Good</div>
                      <div class="invalid-feedback">Wrong</div>
                      
                      <div role="alert" id="password-alert" class="alert alert-warning my-3">
                        <small class="text-muted text-start">
                        <ul>
                            <li>
                              <i class="fas fa-check text-success me-2"></i>
                              <i class="fas fa-times text-danger me-3"></i>
                            
                              Password can’t be too similar to your other personal information.
                           
                            </li>
                            <li>
                              <i class="fas fa-check text-success me-2"></i>
                              <i class="fas fa-times text-danger me-3"></i>
                              
                              Password must contain at least 8 characters.
                           
                            </li>
                            <li>
                              <i class="fas fa-check text-success me-2"></i>
                              <i class="fas fa-times text-danger me-3"></i>
                            
                              Password can’t be a commonly used password.
                           
                            </li>
                            <li>
                              <i class="fas fa-check text-success me-2"></i>
                              <i class="fas fa-times text-danger me-3"></i>
                             
                              Password can’t be entirely numeric.
                        
                            </li>
                          </ul>
                        </small>  
                      </div>

                    <div class="input-group mb-3">
                      <span class="input-group-text" id="basic-addon1"><i class="bi bi-bag-check-fill"></i></span>
                      {% render_field registerform.password2 type="password" placeholder="Confirm Password" name="password2" aria-label="password2" aria-describedby="basic-addon2" class+="form-control" %}
                  
                      <!-- Tooltip -->
                      <span class="input-group-text" id="basic-addon1">
                        <span class="tt lead" data-bs-placement="bottom" title="Your Password Again.">
                          <i class="bi bi-question-circle text-muted"></i>
                          </span>
                      </span>
                     
                    </div>

                    <div class="mx-auto">
                      <button type="Submit" class="btn btn-primary">Register</button>
                    </div>
                    </div>
                  </form>
            </div>
          </div>
        </main>
      
        <footer class="mt-5 text-white-50">
          <p>AD Tool for <a href="https://3insys.com/" class="text-white">3INSYS Employees</a>, by <a href="https://3insys.com/" class="text-white">Aziz Shukuri</a></p>
        </footer>
      </div>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

    <script>
      const tooltips = document.querySelectorAll('.tt')
      tooltips.forEach(t => {
        new bootstrap.Tooltip(t)
      })
    </script>

    <script src="{% static 'js/password.js' %}"></script>

  </body>
</html>